{% extends "base.html" %}

{% block content %}
  <h2>Vendors</h2>

  <!-- Search name -->
  <form action="" method="POST">
    {% csrf_token %}
    <input type="text" name="name">
    <input type="submit" name="submit" value="Search">
  </form>

  <!-- Vendors list -->
  <div class="row">
    {% for vendor in vendors %}
      <!-- Individual vendor -->
      <div class="col" id="product">
        <form action="add_to_cart" method="POST" value="{{ request.path }}">
          {% csrf_token %}

          <!-- Vendor details -->
          <div class="card-body">
            <h5 class="card-title">{{ vendor.name }}</h5>
            <p class="card-text">Email: {{ vendor.email }}</p>
            <p class="card-text">Phone: {{ vendor.phone }}</p>
            <div class="form-row">
              <input type="hidden" name="vendor" id="vendor" value="{{ vendor.id }}">
            </div>
          </div>
        </form>
      </div>

      <!-- No vendors in database -->
      {% empty %}
        <div class="col" id="product">
          <p>No vendors</p>
        </div>
    {% endfor %}
  </div>
{% endblock %}
